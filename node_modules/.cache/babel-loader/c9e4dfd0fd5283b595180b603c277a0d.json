{"ast":null,"code":"var _jsxFileName = \"/var/www/html/Front-end/src/modules/amazon/index.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport TranslateIcon from '@material-ui/icons/Translate';\nimport Avatar from '@material-ui/core/Avatar';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Menu from '@material-ui/core/Menu';\nimport FloatingMenuItem from '@material-ui/core/MenuItem';\nimport Dialog from '@material-ui/core/Dialog';\nimport Box from '@material-ui/core/Box';\nimport { withStyles } from '@material-ui/core/styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst drawerWidth = 240;\n\nconst styles = theme => ({\n  root: {\n    minHeight: '100%',\n    flexGrow: 1,\n    zIndex: 1,\n    overflow: 'hidden',\n    position: 'relative',\n    display: 'flex'\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    })\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  menuButton: {\n    marginLeft: 4,\n    marginRight: 28\n  },\n  hide: {\n    display: 'none'\n  },\n  drawerPaper: {\n    position: 'relative',\n    whiteSpace: 'nowrap',\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  drawerPaperClose: {\n    overflowX: 'hidden',\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(9)\n    }\n  },\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: '0 8px',\n    ...theme.mixins.toolbar\n  },\n  appVersion: {\n    position: 'fixed',\n    bottom: '0',\n    left: '0',\n    right: '0'\n  },\n  content: {\n    display: 'flex',\n    flexDirection: 'column',\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.default,\n    padding: theme.spacing(3),\n    overflow: 'auto'\n  },\n  avatar: {\n    cursor: 'pointer',\n    margin: '0 auto',\n    marginLeft: '2rem',\n    width: 48,\n    height: 48\n  },\n  smallAvatar: {\n    cursor: 'pointer',\n    margin: '0 auto',\n    width: 48,\n    height: 48 //textTransform: 'lowercase',\n\n  },\n  listItem: {\n    fontWeight: '100',\n    transition: 'border 0.125s',\n    '&:hover': {\n      color: theme.palette.secondary.main,\n      backgroundColor: 'transparent'\n    }\n  },\n  listItemActive: {\n    fontWeight: '100',\n    color: theme.palette.secondary.main,\n    backgroundColor: 'transparent'\n  },\n  colorUserName: {\n    color: theme.palette.secondary.main\n  },\n  contentUserLogged: {\n    marginTop: '0.5rem',\n    marginBottom: '0rem',\n    marginLeft: '0.5rem',\n    marginRight: '5rem'\n  },\n  avatarContainer: {\n    paddingTop: 28\n  },\n  inlineAvatar: {\n    display: 'flex'\n  },\n  '@media (min-width: 600px)': {\n    avatarContainer: {\n      paddingTop: 8\n    },\n    menuButton: {\n      marginLeft: 12,\n      marginRight: 36\n    },\n    listItemIcon: {\n      margin: '0 0.5rem'\n    }\n  }\n});\n\nfunction NetworkConnectionDisplayComponent(props) {\n  _s();\n\n  const [online, setOnline] = useState(true);\n\n  const updateNetworkStatus = () => {\n    setOnline(window.navigator.onLine);\n    console.log(window.navigator.onLine);\n  };\n\n  useEffect(() => {\n    updateNetworkStatus();\n    window.addEventListener('offline', updateNetworkStatus);\n    window.addEventListener('online', updateNetworkStatus);\n    return () => {\n      window.removeEventListener('offline', updateNetworkStatus);\n      window.removeEventListener('online', updateNetworkStatus);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      background: online ? '#64dd17' : '#b71c1c',\n      textAlign: 'center',\n      color: 'white',\n      fontSize: '0.625rem',\n      height: '2px'\n    },\n    children: \"\\xA0\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 181,\n    columnNumber: 5\n  }, this);\n}\n\n_s(NetworkConnectionDisplayComponent, \"x2VxLduMM9Q/hLbdnvAN9ZrhLfM=\");\n\n_c = NetworkConnectionDisplayComponent;\nexport const NetworkConnectionDisplay = withStyles(styles, {\n  withTheme: true\n})(NetworkConnectionDisplayComponent);\n\nclass MenuItemComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hover: ''\n    };\n    this.refreshTokenTimer = 0;\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(ListItem, {\n      onClick: this.props.onClick,\n      classes: this.props.active || this.state.hover ? {\n        root: classes.listItemActive\n      } : {\n        root: classes.listItem\n      },\n      onMouseEnter: () => {\n        this.setState({\n          hover: true\n        });\n      },\n      onMouseLeave: () => {\n        this.setState({\n          hover: false\n        });\n      },\n      button: true,\n      children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n        className: classes.listItemIcon,\n        classes: this.props.active || this.state.hover ? {\n          root: classes.listItemActive\n        } : {\n          root: classes.listItem\n        },\n        children: this.props.icon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n        primary: this.props.item,\n        classes: this.props.active || this.state.hover ? {\n          primary: classes.listItemActive\n        } : {\n          primary: classes.listItem\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst MenuItem = withStyles(styles, {\n  withTheme: true\n})(MenuItemComponent);\n\nfunction MiniDrawer(props) {\n  _s2();\n\n  const [open, setOpen] = useState(false);\n  const [activeMenuItem, setActiveMenuItem] = useState('');\n  const [avatarUrl, setAvatarUrl] = useState('');\n  const [avatarLetter, setAvatarLetter] = useState('');\n  const [username, setUsername] = useState('');\n  const [title, setTitle] = useState('');\n  const [loaded, setLoaded] = useState(false);\n  const [languageSelectionMenuAnchorEl, setLanguageSelectionMenuAnchorEl] = useState(null);\n  const [showLogoutConfirmationDialog, setShowLogoutConfirmationDialog] = useState(false);\n  let refreshTokenTimer = 0;\n\n  const clearTokenRefresherTimeout = () => {\n    if (refreshTokenTimer > 0) {\n      window.clearTimeout(refreshTokenTimer);\n      refreshTokenTimer = 0;\n    }\n  };\n\n  const functionsBeforeUnload = () => {\n    clearTokenRefresherTimeout();\n  };\n\n  useEffect(() => {\n    return functionsBeforeUnload;\n  }, []);\n  useEffect(() => {\n    const now = Date.now();\n    const url = window.location.href;\n\n    const onbeforeunloadFn = () => {\n      Util.track('page:unload', {\n        url: url,\n        duration: Date.now() - now\n      });\n      let metrics = \"\";\n\n      if (metrics.length > 0) {}\n    };\n\n    window.addEventListener('unload', onbeforeunloadFn);\n    return () => {\n      window.removeEventListener('unload', onbeforeunloadFn);\n    };\n  }, []);\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const handleLogout = () => {\n    setShowLogoutConfirmationDialog(false);\n    const localStorageItemsToPreserve = [// List of items to keep in the localStorage\n    'sales-position'];\n    const localStorageItems = Object.keys(localStorage);\n    localStorageItems.map(item => {\n      if (localStorageItemsToPreserve.indexOf(item) == -1) {\n        localStorage.removeItem(item);\n      }\n    });\n    let metrics = \"\";\n    sessionStorage.clear(); // Update the user tokens context\n\n    userTokens.setTokens({});\n    userPermissions.setPermissions([]);\n    Router.push({\n      pathname: '/dashboard/auth'\n    });\n  };\n\n  const asksUserForConfirmationToLogout = () => {};\n\n  const menuMouseOver = () => {\n    setOpen(true);\n  };\n\n  const menuMouseOut = () => {\n    setOpen(false);\n  };\n\n  const openLanguageSelectionMenu = event => {\n    setLanguageSelectionMenuAnchorEl(event.currentTarget);\n  };\n\n  const closeLanguageSelectionMenu = event => {\n    setLanguageSelectionMenuAnchorEl(null);\n  };\n\n  const selectLanguage = lang => () => {\n    closeLanguageSelectionMenu();\n    language.setLanguage(lang);\n  };\n\n  const {\n    classes,\n    theme\n  } = props;\n\n  if (loaded == false) {\n    return false;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: [/*#__PURE__*/_jsxDEV(Dialog, {\n      open: showLogoutConfirmationDialog,\n      onClose: () => {\n        setShowLogoutConfirmationDialog(false);\n      },\n      \"aria-labelledby\": \"alert-dialog-title\",\n      \"aria-describedby\": \"alert-dialog-description\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"absolute\",\n      elevation: 0,\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        disableGutters: !open,\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          color: \"inherit\",\n          \"aria-label\": \"Open drawer\",\n          onClick: handleDrawerOpen,\n          children: /*#__PURE__*/_jsxDEV(MenuIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexGrow: '1',\n            paddingRight: '1.5rem',\n            alignItems: 'center'\n          },\n          children: [props.toolbar, /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: openLanguageSelectionMenu,\n            color: \"inherit\",\n            title: \"Languages\",\n            children: /*#__PURE__*/_jsxDEV(TranslateIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 15\n            }, this)\n          }, 1, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Menu, {\n            id: \"language-selector-menu\",\n            anchorEl: languageSelectionMenuAnchorEl,\n            open: Boolean(languageSelectionMenuAnchorEl),\n            onClose: closeLanguageSelectionMenu,\n            children: [/*#__PURE__*/_jsxDEV(FloatingMenuItem, {\n              onClick: selectLanguage('en-us'),\n              children: \"English\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FloatingMenuItem, {\n              onClick: selectLanguage('es-mx'),\n              children: \"Espa\\xF1ol\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 13\n          }, this), props.newResource]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Drawer, {\n      variant: \"permanent\",\n      open: open,\n      onMouseLeave: () => menuMouseOut(),\n      onMouseEnter: () => menuMouseOver(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.toolbar,\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: handleDrawerClose,\n          children: theme.direction === 'rtl' ? /*#__PURE__*/_jsxDEV(ChevronRightIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 42\n          }, this) : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        component: \"nav\",\n        className: classes.avatarContainer,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: open ? classes.inlineAvatar : classes.onlyAvatar,\n          onClick: () => {\n            setActiveMenuItem('None');\n          },\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            href: \"/dashboard/profile\",\n            children: /*#__PURE__*/_jsxDEV(Avatar, {\n              src: avatarUrl,\n              className: open ? classes.avatar : classes.smallAvatar,\n              style: {\n                backgroundColor: theme.palette.primary.main\n              },\n              children: avatarLetter\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: open ? classes.contentUserLogged : classes.hide,\n            children: /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: title,\n              placement: \"right\",\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                gutterBottom: true,\n                onClick: () => {\n                  setActiveMenuItem('None');\n                },\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  href: \"/dashboard/profile\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    className: classes.colorUserName,\n                    children: username\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 445,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        component: \"nav\",\n        children: /*#__PURE__*/_jsxDEV(MenuItem, {\n          item: DashboardTranslations[language.value]['log-out'],\n          onClick: () => {\n            setShowLogoutConfirmationDialog(true);\n          },\n          active: false,\n          icon: /*#__PURE__*/_jsxDEV(ExitToAppIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: classes.content,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.toolbar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 9\n      }, this), props.children, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.appVersion,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          style: {\n            fontSize: '9px',\n            textAlign: 'right',\n            paddingRight: '4px'\n          },\n          children: Config.version\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          display: {\n            xs: 'block',\n            lg: 'none'\n          },\n          children: /*#__PURE__*/_jsxDEV(NetworkConnectionDisplay, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 366,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(MiniDrawer, \"xVotchDCu5ZYFEQh0yj95Xz8Q+Y=\");\n\n_c2 = MiniDrawer;\nMiniDrawer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired\n};\nexport default withStyles(styles, {\n  withTheme: true\n})(withSnackbar(MiniDrawer));\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"NetworkConnectionDisplayComponent\");\n$RefreshReg$(_c2, \"MiniDrawer\");","map":{"version":3,"sources":["/var/www/html/Front-end/src/modules/amazon/index.js"],"names":["React","useState","useEffect","PropTypes","Link","Router","Drawer","AppBar","Toolbar","List","ListItem","ListItemIcon","ListItemText","Typography","Divider","IconButton","MenuIcon","ChevronRightIcon","ExitToAppIcon","TranslateIcon","Avatar","Tooltip","Menu","FloatingMenuItem","Dialog","Box","withStyles","drawerWidth","styles","theme","root","minHeight","flexGrow","zIndex","overflow","position","display","appBar","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","hide","drawerPaper","whiteSpace","drawerPaperClose","overflowX","spacing","breakpoints","up","toolbar","alignItems","justifyContent","padding","mixins","appVersion","bottom","left","right","content","flexDirection","backgroundColor","palette","background","default","avatar","cursor","margin","height","smallAvatar","listItem","fontWeight","color","secondary","main","listItemActive","colorUserName","contentUserLogged","marginTop","marginBottom","avatarContainer","paddingTop","inlineAvatar","listItemIcon","NetworkConnectionDisplayComponent","props","online","setOnline","updateNetworkStatus","window","navigator","onLine","console","log","addEventListener","removeEventListener","textAlign","fontSize","NetworkConnectionDisplay","withTheme","MenuItemComponent","Component","constructor","state","hover","refreshTokenTimer","render","classes","onClick","active","setState","icon","item","primary","MenuItem","MiniDrawer","open","setOpen","activeMenuItem","setActiveMenuItem","avatarUrl","setAvatarUrl","avatarLetter","setAvatarLetter","username","setUsername","title","setTitle","loaded","setLoaded","languageSelectionMenuAnchorEl","setLanguageSelectionMenuAnchorEl","showLogoutConfirmationDialog","setShowLogoutConfirmationDialog","clearTokenRefresherTimeout","clearTimeout","functionsBeforeUnload","now","Date","url","location","href","onbeforeunloadFn","Util","track","metrics","length","handleDrawerOpen","handleDrawerClose","handleLogout","localStorageItemsToPreserve","localStorageItems","Object","keys","localStorage","map","indexOf","removeItem","sessionStorage","clear","userTokens","setTokens","userPermissions","setPermissions","push","pathname","asksUserForConfirmationToLogout","menuMouseOver","menuMouseOut","openLanguageSelectionMenu","event","currentTarget","closeLanguageSelectionMenu","selectLanguage","lang","language","setLanguage","paddingRight","Boolean","newResource","direction","onlyAvatar","DashboardTranslations","value","children","Config","version","xs","lg","propTypes","object","isRequired","withSnackbar"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Link from 'next/link';\nimport Router from 'next/router';\n\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport TranslateIcon from '@material-ui/icons/Translate';\nimport Avatar from '@material-ui/core/Avatar';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Menu from '@material-ui/core/Menu';\nimport FloatingMenuItem from '@material-ui/core/MenuItem';\nimport Dialog from '@material-ui/core/Dialog';\nimport Box from '@material-ui/core/Box';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst drawerWidth = 240;\n\nconst styles = (theme) => ({\n  root: {\n    minHeight: '100%',\n    flexGrow: 1,\n    zIndex: 1,\n    overflow: 'hidden',\n    position: 'relative',\n    display: 'flex'\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    })\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  menuButton: {\n    marginLeft: 4,\n    marginRight: 28\n  },\n  hide: {\n    display: 'none'\n  },\n  drawerPaper: {\n    position: 'relative',\n    whiteSpace: 'nowrap',\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  drawerPaperClose: {\n    overflowX: 'hidden',\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(9)\n    }\n  },\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: '0 8px',\n    ...theme.mixins.toolbar\n  },\n  appVersion: {\n    position: 'fixed',\n    bottom: '0',\n    left: '0',\n    right: '0'\n  },\n  content: {\n    display: 'flex',\n    flexDirection: 'column',\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.default,\n    padding: theme.spacing(3),\n    overflow: 'auto'\n  },\n  avatar: {\n    cursor: 'pointer',\n    margin: '0 auto',\n    marginLeft: '2rem',\n    width: 48,\n    height: 48\n  },\n  smallAvatar: {\n    cursor: 'pointer',\n    margin: '0 auto',\n    width: 48,\n    height: 48\n    //textTransform: 'lowercase',\n  },\n  listItem: {\n    fontWeight: '100',\n    transition: 'border 0.125s',\n    '&:hover': {\n      color: theme.palette.secondary.main,\n      backgroundColor: 'transparent'\n    }\n  },\n  listItemActive: {\n    fontWeight: '100',\n    color: theme.palette.secondary.main,\n    backgroundColor: 'transparent'\n  },\n  colorUserName: {\n    color: theme.palette.secondary.main\n  },\n  contentUserLogged: {\n    marginTop: '0.5rem',\n    marginBottom: '0rem',\n    marginLeft: '0.5rem',\n    marginRight: '5rem'\n  },\n  avatarContainer: {\n    paddingTop: 28\n  },\n  inlineAvatar: {\n    display: 'flex'\n  },\n  '@media (min-width: 600px)': {\n    avatarContainer: {\n      paddingTop: 8\n    },\n    menuButton: {\n      marginLeft: 12,\n      marginRight: 36\n    },\n    listItemIcon: {\n      margin: '0 0.5rem'\n    }\n  }\n});\n\nfunction NetworkConnectionDisplayComponent(props) {\n  const [online, setOnline] = useState(true);\n\n  const updateNetworkStatus = () => {\n    setOnline(window.navigator.onLine);\n    console.log(window.navigator.onLine);\n  };\n\n  useEffect(() => {\n    updateNetworkStatus();\n\n    window.addEventListener('offline', updateNetworkStatus);\n    window.addEventListener('online', updateNetworkStatus);\n\n    return () => {\n      window.removeEventListener('offline', updateNetworkStatus);\n      window.removeEventListener('online', updateNetworkStatus);\n    };\n  }, []);\n\n  return (\n    <div\n      style={{\n        background: online ? '#64dd17' : '#b71c1c',\n        textAlign: 'center',\n        color: 'white',\n        fontSize: '0.625rem',\n        height: '2px'\n      }}>\n      &nbsp;\n    </div>\n  );\n}\n\nexport const NetworkConnectionDisplay = withStyles(styles, { withTheme: true })(\n  NetworkConnectionDisplayComponent\n);\n\nclass MenuItemComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hover: ''\n    };\n    this.refreshTokenTimer = 0;\n  }\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <ListItem\n        onClick={this.props.onClick}\n        classes={\n          this.props.active || this.state.hover\n            ? { root: classes.listItemActive }\n            : { root: classes.listItem }\n        }\n        onMouseEnter={() => {\n          this.setState({ hover: true });\n        }}\n        onMouseLeave={() => {\n          this.setState({ hover: false });\n        }}\n        button>\n        <ListItemIcon\n          className={classes.listItemIcon}\n          classes={\n            this.props.active || this.state.hover\n              ? { root: classes.listItemActive }\n              : { root: classes.listItem }\n          }>\n          {this.props.icon}\n        </ListItemIcon>\n        <ListItemText\n          primary={this.props.item}\n          classes={\n            this.props.active || this.state.hover\n              ? { primary: classes.listItemActive }\n              : { primary: classes.listItem }\n          }\n        />\n      </ListItem>\n    );\n  }\n}\n\nconst MenuItem = withStyles(styles, { withTheme: true })(MenuItemComponent);\n\nfunction MiniDrawer(props) {\n  const [open, setOpen] = useState(false);\n  const [activeMenuItem, setActiveMenuItem] = useState('');\n  const [avatarUrl, setAvatarUrl] = useState('');\n  const [avatarLetter, setAvatarLetter] = useState('');\n  const [username, setUsername] = useState('');\n  const [title, setTitle] = useState('');\n  const [loaded, setLoaded] = useState(false);\n  const [languageSelectionMenuAnchorEl, setLanguageSelectionMenuAnchorEl] = useState(null);\n  const [showLogoutConfirmationDialog, setShowLogoutConfirmationDialog] = useState(false);\n\n  let refreshTokenTimer = 0;\n\n  const clearTokenRefresherTimeout = () => {\n    if (refreshTokenTimer > 0) {\n      window.clearTimeout(refreshTokenTimer);\n      refreshTokenTimer = 0;\n    }\n  };\n\n  const functionsBeforeUnload = () => {\n    clearTokenRefresherTimeout();\n  };\n\n  \n\n  \n\n  useEffect(() => {\n    return functionsBeforeUnload;\n  }, []);\n\n  useEffect(() => {\n    const now = Date.now();\n    const url = window.location.href;\n\n    const onbeforeunloadFn = () => {\n      Util.track('page:unload', {\n        url: url,\n        duration: Date.now() - now\n      });\n\n      let metrics = \"\";\n      if (metrics.length > 0) {\n      }\n    };\n\n    window.addEventListener('unload', onbeforeunloadFn);\n    return () => {\n      window.removeEventListener('unload', onbeforeunloadFn);\n    };\n  }, []);\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const handleLogout = () => {\n    setShowLogoutConfirmationDialog(false);\n\n    const localStorageItemsToPreserve = [\n      // List of items to keep in the localStorage\n      'sales-position'\n    ];\n\n    const localStorageItems = Object.keys(localStorage);\n\n    localStorageItems.map((item) => {\n      if (localStorageItemsToPreserve.indexOf(item) == -1) {\n        localStorage.removeItem(item);\n      }\n    });\n\n    let metrics = \"\"\n    sessionStorage.clear();\n\n    // Update the user tokens context\n    userTokens.setTokens({});\n    userPermissions.setPermissions([]);\n\n    Router.push({ pathname: '/dashboard/auth' });\n  };\n\n  const asksUserForConfirmationToLogout = () => {};\n\n  const menuMouseOver = () => {\n    setOpen(true);\n  };\n\n  const menuMouseOut = () => {\n    setOpen(false);\n  };\n\n  const openLanguageSelectionMenu = (event) => {\n    setLanguageSelectionMenuAnchorEl(event.currentTarget);\n  };\n\n  const closeLanguageSelectionMenu = (event) => {\n    setLanguageSelectionMenuAnchorEl(null);\n  };\n\n  const selectLanguage = (lang) => () => {\n    closeLanguageSelectionMenu();\n    language.setLanguage(lang);\n  };\n\n  const { classes, theme } = props;\n\n  if (loaded == false) {\n    return false;\n  }\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={showLogoutConfirmationDialog}\n        onClose={() => {\n          setShowLogoutConfirmationDialog(false);\n        }}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\">\n      </Dialog>\n      <AppBar\n        position=\"absolute\"\n        elevation={0}>\n        <Toolbar disableGutters={!open}>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"Open drawer\"\n            onClick={handleDrawerOpen}>\n            <MenuIcon />\n          </IconButton>\n          <div\n            style={{\n              display: 'flex',\n              flexGrow: '1',\n              paddingRight: '1.5rem',\n              alignItems: 'center'\n            }}>\n            {props.toolbar}\n            <IconButton\n              key={1}\n              onClick={openLanguageSelectionMenu}\n              color=\"inherit\"\n              title=\"Languages\">\n              <TranslateIcon />\n            </IconButton>\n            <Menu\n              id=\"language-selector-menu\"\n              anchorEl={languageSelectionMenuAnchorEl}\n              open={Boolean(languageSelectionMenuAnchorEl)}\n              onClose={closeLanguageSelectionMenu}>\n              <FloatingMenuItem onClick={selectLanguage('en-us')}>English</FloatingMenuItem>\n              <FloatingMenuItem onClick={selectLanguage('es-mx')}>Español</FloatingMenuItem>\n            </Menu>\n            {props.newResource}\n          </div>\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        variant=\"permanent\"\n        open={open}\n        onMouseLeave={() => menuMouseOut()}\n        onMouseEnter={() => menuMouseOver()}>\n        <div className={classes.toolbar}>\n          <IconButton onClick={handleDrawerClose}>\n            {theme.direction === 'rtl' ? <ChevronRightIcon /> : \"\"}\n          </IconButton>\n        </div>\n        <List component=\"nav\" className={classes.avatarContainer}>\n          <div\n            className={open ? classes.inlineAvatar : classes.onlyAvatar}\n            onClick={() => {\n              setActiveMenuItem('None');\n            }}>\n            <Link href=\"/dashboard/profile\">\n              <Avatar\n                src={avatarUrl}\n                className={open ? classes.avatar : classes.smallAvatar}\n                style={{ backgroundColor: theme.palette.primary.main }}>\n                {avatarLetter}\n              </Avatar>\n            </Link>\n            <div className={open ? classes.contentUserLogged : classes.hide}>\n              <Tooltip title={title} placement=\"right\">\n                <Typography\n                  variant=\"h6\"\n                  gutterBottom\n                  onClick={() => {\n                    setActiveMenuItem('None');\n                  }}>\n                  <Link href=\"/dashboard/profile\">\n                    <a className={classes.colorUserName}>{username}</a>\n                  </Link>\n                </Typography>\n              </Tooltip>\n            </div>\n          </div>\n        </List>\n        <Divider />\n        <List component=\"nav\">\n          <MenuItem\n            item={DashboardTranslations[language.value]['log-out']}\n            onClick={() => {\n              setShowLogoutConfirmationDialog(true);\n            }}\n            active={false}\n            icon={<ExitToAppIcon />}\n          />\n        </List>\n      </Drawer>\n      <main className={classes.content}>\n        <div className={classes.toolbar}></div>\n        {props.children}\n        <div className={classes.appVersion}>\n          <Typography\n            style={{\n              fontSize: '9px',\n              textAlign: 'right',\n              paddingRight: '4px'\n            }}>\n            {Config.version}\n          </Typography>\n          <Box display={{ xs: 'block', lg: 'none' }}>\n            <NetworkConnectionDisplay />\n          </Box>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nMiniDrawer.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles, { withTheme: true })(withSnackbar(MiniDrawer));\n"]},"metadata":{},"sourceType":"module"}